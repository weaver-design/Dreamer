<div class="Signin-formbox">
    <!-- 关闭按钮 -->
    <div class="Signin-close">
        <a href="javascript:void(0);">关闭</a>
    </div>
    <!-- 表单 -->
    <div class="Signin-form">
        <div class="Signin-form-title">
            <div class="Signin-form-title-t1">
                会员登录
            </div>
            <div class="Signin-form-title-t2">
                <span>还没有账号</span>
                <a href="/function/register.html">立即注册</a>
            </div>
        </div>
        <div class="Signin-form-inputinfo">
            
        </div>
        <!-- 直接登录 -->
        <div class="Signin-inputbox">
            <form action="">
            <div class="Signin-inputbox-title">
                手机 or 邮箱登录
            </div>
            <div class="Signin-inputbox-input">
                <form action="">
                <div class="Signin-input-box">
                    <input type="text" name="fname" id="identifier" placeholder="请输入账号" />
                </div>
                <div class="Signin-input-box">
                    <input type="password" name="fpassword" id="password" placeholder="请输入密码" />
                </div>
            </div>
            <!--  -->
            <div class="boxmain">
                <div class="Signin-inputbox-btn">
                    <div id="loginBtn">提交</div>
                </div>
                <div class="Signin-inputbox-forgotten">
                    <a href="">
                        忘记密码？
                    </a>
                </div>
            </div>
        </div>

        <!-- 第三方注册 -->
        <div class="Signin-Thirdparty">
            <table width="100%" border="0" cellpadding="0" cellspacing="0">
                <tbody>
                    <tr>
                        <td colspan="5">
                            <div class="Signin-Thirdparty-Notes">
                                您可以选择一下第三方账号直接登录，一分钟完成注册
                            </div>
                        </td
                    </tr>
                    <tr>
                        <td>
                            <div class="Signin-Thirdparty-btn">
                                <a href="">
                                    <img src="/images/icon_weixin.png">
                                    <span>微信</span>
                                </a>
                            </div>
                        </td>
                        <td width="20"></td>
                        <td>
                            <div class="Signin-Thirdparty-btn">
                                <a href="">
                                    <img src="/images/icon_weibo.png">
                                    <span>微博</span>
                                </a>
                            </div>
                        </td>
                        <td width="20"></td>
                        <td>
                            <div class="Signin-Thirdparty-btn">
                                <a href="">
                                    <img src="/images/icon_qq.png">
                                    <span>QQ</span>
                                </a>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.0/axios.min.js"></script>
<script type="text/javascript">
    // 点击显示效果
    $(document).ready(function() {
        $(".Signin-close").click(function(){
            $(".Signinbox").hide();
        });
        document.querySelector('#loginBtn').onclick = function(e) {
            axios
            .post('/api/auth/local', {
                identifier: document.querySelector('#identifier').value,
                password: document.querySelector('#password').value
            })
            .then(response => {
                // Handle success.
                console.log('Well done!');
                console.log('User profile', response.data.user);
                console.log('User token', response.data.jwt);
                window.alert('登录成功 :-)');
                document.querySelector('#Signin').style.display = 'none';
            })
            .catch(error => {
                // Handle error.
                console.log('An error occurred:', error);
                window.alert('登录失败 :-)' + error);
            });
        }
    });

</script>